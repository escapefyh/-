<!--pkg_user/follow/follow.wxml-->
<view class="follow-page">
  <!-- 加载中状态 -->
  <view wx:if="{{loading && followList.length === 0}}" class="loading-container">
    <text>加载中...</text>
  </view>

  <!-- 空状态 -->
  <view wx:elif="{{!loading && followList.length === 0}}" class="empty-container">
    <text>暂无关注</text>
  </view>

  <!-- 关注列表 -->
  <view wx:else class="follow-list">
    <view
      class="follow-item"
      wx:for="{{followList}}"
      wx:key="user_id"
      bind:tap="onUserClick"
      data-user-id="{{item.user_id}}"
    >
      <!-- 用户头像 -->
      <image
        class="user-avatar"
        src="{{item.avatar || '/assets/default_avatar.png'}}"
        mode="aspectFill"
      />
      
      <!-- 用户信息 -->
      <view class="user-info">
        <text class="user-name">{{item.nickname || item.name || '未设置昵称'}}</text>
        <text wx:if="{{item.goods_count !== undefined && item.goods_count !== null}}" class="goods-count">
          发布了{{item.goods_count}}件商品
        </text>
      </view>
      
      <!-- 取消关注按钮 -->
      <view 
        class="unfollow-btn"
        catch:tap="onUnfollowClick"
        data-user-id="{{item.user_id}}"
        data-index="{{index}}"
      >
        <text>取消关注</text>
      </view>
    </view>
  </view>
  
  <!-- 加载更多提示 -->
  <view wx:if="{{loading && followList.length > 0}}" class="loading-more">
    <text>加载中...</text>
  </view>
  <view wx:if="{{!hasMore && followList.length > 0}}" class="no-more">
    <text>没有更多了</text>
  </view>
</view>















