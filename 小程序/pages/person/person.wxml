<!--pages/person/person.wxml-->
<view class="person-page">
  <!-- ç”¨æˆ·ä¿¡æ¯åŒºåŸŸï¼ˆå·¦ä¸Šè§’ï¼‰ -->
  <view class="user-header">
    <view class="user-info" bind:tap="getuserinfo">
      <t-image 
        src="{{wxlogin ? userinfo.avatar : '/assets/default_avatar.png'}}" 
        mode="aspectFill" 
        width="120rpx" 
        height="120rpx" 
        shape="circle" 
      />
      <view class="user-name-wrapper">
        <view class="default-nikename" wx:if="{{!wxlogin}}">
          <view class="text1">å¾®ä¿¡æˆæƒ</view> 
          <view class="text2">ç‚¹å‡»æˆæƒååŒæ­¥æ‚¨çš„å¾®ä¿¡æ•°æ®</view>
        </view>
        <view wx:else class="user-name">{{userinfo.nickname}}</view>
      </view>
    </view>
  </view>

  <!-- å¾…å¤„ç†äº‹é¡¹æé†’ -->
  <view wx:if="{{pendingCount > 0}}" class="section-card pending-section">
    <view class="pending-header">
      <text class="pending-title">å¾…å¤„ç†äº‹é¡¹</text>
      <text class="pending-count">{{pendingCount}}ä¸ªå¾…å¤„ç†</text>
    </view>
    <view class="pending-list">
      <!-- å–å®¶ï¼šå¾…å‘è´§ -->
      <view wx:if="{{pendingShipCount > 0}}" class="pending-item" bind:tap="goToPendingShip">
        <view class="pending-icon">ğŸ“¦</view>
        <view class="pending-content">
          <text class="pending-label">å¾…å‘è´§</text>
          <text class="pending-desc">æœ‰{{pendingShipCount}}ä¸ªè®¢å•å¾…å‘è´§</text>
        </view>
        <view class="pending-badge">{{pendingShipCount}}</view>
        <view class="pending-arrow">></view>
      </view>
      <!-- ä¹°å®¶ï¼šå¾…æ”¶è´§ -->
      <view wx:if="{{pendingReceiveCount > 0}}" class="pending-item" bind:tap="goToPendingReceive">
        <view class="pending-icon">ğŸšš</view>
        <view class="pending-content">
          <text class="pending-label">å¾…æ”¶è´§</text>
          <text class="pending-desc">æœ‰{{pendingReceiveCount}}ä¸ªè®¢å•å¾…ç¡®è®¤æ”¶è´§</text>
        </view>
        <view class="pending-badge">{{pendingReceiveCount}}</view>
        <view class="pending-arrow">></view>
      </view>
      <!-- ä¹°å®¶ï¼šå¾…è¯„ä»· -->
      <view wx:if="{{pendingReviewCount > 0}}" class="pending-item" bind:tap="goToPendingReview">
        <view class="pending-icon">â­</view>
        <view class="pending-content">
          <text class="pending-label">å¾…è¯„ä»·</text>
          <text class="pending-desc">æœ‰{{pendingReviewCount}}ä¸ªè®¢å•å¾…è¯„ä»·</text>
        </view>
        <view class="pending-badge">{{pendingReviewCount}}</view>
        <view class="pending-arrow">></view>
      </view>
    </view>
  </view>

  <!-- æˆ‘çš„é’±åŒ… -->
  <view class="section-card">
    <view class="menu-item" bind:tap="goToWallet">
      <view class="menu-icon">ğŸ’°</view>
      <view class="menu-text">æˆ‘çš„é’±åŒ…</view>
      <view class="menu-arrow">></view>
    </view>
  </view>

  <!-- æˆ‘çš„æ”¶è—ã€æˆ‘çš„å…³æ³¨ã€å†å²æµè§ˆ -->
  <view class="section-card">
    <view class="stats-row">
      <view class="stat-item" bind:tap="goToCollect">
        <view class="stat-number">{{collectCount}}</view>
        <view class="stat-label">æˆ‘çš„æ”¶è—</view>
      </view>
      <view class="stat-item" bind:tap="goToFollow">
        <view class="stat-number">{{followCount}}</view>
        <view class="stat-label">æˆ‘çš„å…³æ³¨</view>
      </view>
      <view class="stat-item" bind:tap="goToBrowse">
        <view class="stat-number">{{browseCount}}</view>
        <view class="stat-label">å†å²æµè§ˆ</view>
      </view>
    </view>
  </view>

  <!-- æˆ‘çš„äº¤æ˜“ -->
  <view class="section-card">
    <view class="section-title">æˆ‘çš„äº¤æ˜“</view>
    <view class="transaction-row">
      <view class="transaction-item" bind:tap="goToPublished">
        <view class="transaction-icon">ğŸ“¦</view>
        <view class="transaction-number">{{publishedCount}}</view>
        <view class="transaction-label">æˆ‘å‘å¸ƒçš„</view>
      </view>
      <view class="transaction-item" bind:tap="goToSold">
        <view class="transaction-icon">ğŸ’°</view>
        <view class="transaction-number">{{soldCount}}</view>
        <view class="transaction-label">æˆ‘å–å‡ºçš„</view>
      </view>
      <view class="transaction-item" bind:tap="goToBought">
        <view class="transaction-icon">ğŸ›’</view>
        <view class="transaction-number">{{boughtCount}}</view>
        <view class="transaction-label">æˆ‘ä¹°åˆ°çš„</view>
      </view>
    </view>
  </view>

  <!-- è®¾ç½® -->
  <view class="section-card">
    <view class="menu-item" bind:tap="goToSettings">
      <view class="menu-icon">âš™ï¸</view>
      <view class="menu-text">è®¾ç½®</view>
      <view class="menu-arrow">></view>
    </view>
  </view>
</view>
