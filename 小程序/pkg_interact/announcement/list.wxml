<view class="page">
  <view wx:if="{{loading}}" class="loading">加载中...</view>

  <view wx:elif="{{!loading && list.length === 0}}" class="empty">
    <text>暂无系统公告</text>
  </view>

  <view wx:else class="list">
    <view
      class="item"
      wx:for="{{list}}"
      wx:key="announcement_id"
      bindtap="onItemClick"
      data-id="{{item.announcement_id}}"
    >
      <view class="item-header">
        <text class="title">{{item.title}}</text>
        <text class="time">{{formatTime(item.create_time)}}</text>
      </view>
      <view class="meta">
        <text class="publisher">发布者：{{item.admin_name || '管理员'}}</text>
      </view>
      <view class="preview">
        <text>{{item.content}}</text>
      </view>
    </view>
  </view>
</view>








